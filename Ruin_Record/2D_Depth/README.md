# 기능: 확장형 오픈월드 맵 생성

![mapCreater](https://github.com/gus6615/My_Portfolio/assets/57510872/3b5cdf4b-31e0-487e-94d7-794ce713a952)

**기능: 확장형 오픈월드 맵 생성**
<br>
① 붉은 네모로 마크된 선반 뒤에 플레이어가 존재하니 렌더링 우선순위는 선반이 높다.<br>

② 플레이어가 선반 앞에 존재하니 렌더링 우선순위는 플레이어가 높다.<br>

### 📝 기술적 방법

- 2D Depth 기준은 Y축
- 따라서 SpriteRenderer를 가지는 오브젝트를 리스트에 저장<br>
- 리스트에 저장된 오브젝트를 Y 좌표에 따라 Sort Order를 설정하여 우선순위를 정함<br>
- **(최적화)** 정적인 오브젝트는 항상 일정한 위치를 가짐. 따라서 플레이어처럼 동적인 오브젝트의 위치 변화가 있을 경우에만 정렬을 수행<br>

### ⚠️ 발생한 이슈

① (문제인 경우) 2개의 오브젝트를 탑처럼 쌓고 싶은 경우에 문제가 발생<br>

② (정상일 경우) 여러 오브젝트를 쌓고 싶은 경우를 구현<br>

### 👁️‍🗨️ 원인 분석

2개의 오브젝트를 탑처럼 쌓고 싶은 경우엔 우선 순위가 반대여야 하기 때문

### 💡 해결 방식

① 오브젝트 간의 종속성을 부여하여 우선순위를 결정 방식을 나눔 <br>
② 예를 들어, 파란 상자는 빨간 상자의 자식 오브젝트로 배치함 <br>
③ 이런 부모 자식 관계를 가진 경우에 우선순위를 오히려 높여주는 로직을 사용 <br>
