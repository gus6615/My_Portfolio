# This is a portfolio code of 'Dig_For_Money' Project.

# 기능: 확장형 오픈월드 맵 생성

![1](https://user-images.githubusercontent.com/57510872/183236594-ca5f7cd4-397f-4e38-9ace-fe0614081222.png)

<br><br>
☞ 맵이 고정된 형태가 아닌, 확장형 오픈 월드 형태로 맵 제작 <br>
☞ 맵이 확장될 때, 랜덤 확률을 적용하여 광물과 던전을 생성 <br>

### 📝 기술적 방법

① 플레이어의 이전 위치와 현재 위치를 체크 <br>
② 정수 만큼의 이동이 감지된다면 이동한 방향으로 한 줄의 타일을 생성 <br>

### ⚠️ 발생한 이슈

① 타일맵이 크게 확장될수록 런타임 성능이 떨어지는 문제(프레임 드랍 현상) 발생 <br>

### 👁️‍🗨️ 원인 분석

① Profiler를 분석을 해보니 맵이 커질수록 타일이 생성되는 순간에 프레임 드랍 현상을 확인 <br>
② 타일맵이 수정되는 순간에 타일맵의 Collider가 재생성된다는 사실을 확인 <br>
③ 하나의 타일맵으로 맵을 관리하다보니 맵이 확장될수록 재생성 비용이 크게 증가 <br>

### 💡 해결 방식

① Chunk 단위(100 x 100)로 쪼개어 맵을 구성하는 방식 채택
② 맵을 확장해도 특정 Chunk에 대해서만 다시 그려주면 되기 때문에 맵을 확장해도 성능이 떨어지지 않음을 확인 <br>
③ 맵이 확장될 때마다 30 FPS 까지 떨어지는 프레임 드랍 현상을 해결하여 200 FPS 항상 유지되도록 최적화 <br>